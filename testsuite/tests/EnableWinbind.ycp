{

/* test for Samba::EnableWinbind( boolean ) - enable/disable winbind service
 $Id$
 testedfiles: Samba.ycp, Service.ycp
*/

    include "testsuite.ycp";
    
    import "Samba";
    
    // enable service
    TEST( ``( Samba::enableWinbind( true ) ), [ 
	$[ "init" : $[ "scripts" : $[ "exists" : true ] ] ],
	$[],
	$[ "target" :$[ "bash_output" : 
	    $[
		"exit" : 0,
	    ]
	] ]
    ], nil );
    DUMP( Samba::modified );
    DUMP( Samba::winbind );
    DUMP( Samba::security );

    Samba::modified = false;
    Samba::security = "user";
    // disable service
    TEST( ``( Samba::enableWinbind( false ) ), [
	$[ "init" : $[ "scripts" : $[ "exists" : true ] ] ],
	$[],
	$[ "target" :$[ "bash_output" : 
	    $[
		"exit" : 0,
	    ]
	] ]
    ], nil );
    DUMP( Samba::modified );
    DUMP( Samba::winbind );
    DUMP( Samba::security );
}
